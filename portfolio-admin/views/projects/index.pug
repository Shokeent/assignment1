extends ../layout

block content
  .d-flex.justify-content-between.align-items-center.mb-4
    h1 Projects
    a.btn.btn-success(href="/projects/new") Add New Project
  
  if projects.length === 0
    .alert.alert-info
      p No projects found. 
      a(href="/projects/new") Add your first project!
  else
    .row
      each project in projects
        .col-md-6.col-lg-4.mb-4
          .card.h-100
            if project.image
              img.card-img-top(src=project.image, alt=project.title, style="height: 200px; object-fit: cover;")
            .card-body.d-flex.flex-column
              h5.card-title= project.title
              if project.featured
                span.badge.bg-warning.text-dark.mb-2 Featured
              p.card-text= project.description
              .mb-2
                small.text-muted Technologies: 
                each tech, index in project.technologies
                  span.badge.bg-secondary.me-1= tech
              .mt-auto
                .d-flex.gap-2.mb-2
                  if project.githubUrl
                    a.btn.btn-sm.btn-outline-dark(href=project.githubUrl, target="_blank") GitHub
                  if project.liveUrl
                    a.btn.btn-sm.btn-outline-primary(href=project.liveUrl, target="_blank") Live Demo
                .d-flex.gap-2
                  a.btn.btn-sm.btn-warning(href=`/projects/edit/${project._id}`) Edit
                  form(method="POST", action=`/projects/delete/${project._id}`, style="display: inline;")
                    button.btn.btn-sm.btn-danger(type="submit", onclick="return confirm('Are you sure you want to delete this project?')") Delete